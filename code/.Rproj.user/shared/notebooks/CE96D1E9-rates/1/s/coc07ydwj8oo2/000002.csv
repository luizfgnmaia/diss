"0","library(dplyr)"
"0",""
"0","load(""dados_serie_a_2014_2019.RData"")"
"0",""
"0","x = list(); y = list(); xy = list()"
"0","for(i in 1:N) {"
"0","  x[[i]] = c(x1[[i]], x2[[i]])"
"0","  y[[i]] = c(y1[[i]], y2[[i]])"
"0","  xy[[i]] = paste(x[[i]], y[[i]], sep = ""-"")"
"0","}"
"0",""
"0","placares = c(""0-0"", ""1-0"", ""0-1"", ""1-1"", ""2-0"", ""0-2"", ""2-1"", ""1-2"", ""2-2"")"
"0","tables = lapply(xy, table)"
"0","last_score = lapply(xy, function(x) x[length(x)])"
"0",""
"0","delta = list()"
"0","t = list()"
"0","for(i in 1:length(placares)) {"
"0","  tmp_delta = NULL"
"0","  tmp_t = NULL"
"0","  for(k in 1:N) {"
"0","    if(placares[i] %in% names(tables[[k]])) {"
"0","      tmp_delta[k] = ifelse(last_score[[k]] == placares[i], 0, 1)"
"0","      tmp_t[k] = tables[[k]][placares[i]]"
"0","    } else {"
"0","      tmp_delta[k] = 0"
"0","      tmp_t[k] = 0"
"0","    }"
"0","  }"
"0","  delta[[i]] = tmp_delta"
"0","  t[[i]] = tmp_t"
"0","}"
"0",""
"0","names(delta) = placares"
"0","names(t) = placares"
"0",""
"0","rates = NULL"
"0","for(i in 1:length(delta)) {"
"0","  rates[i] = sum(delta[[i]])/sum(t[[i]])"
"0","}"
"0","names(rates) = placares"
