ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_8_pred_45, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 8 at minute 45")
sum(sims$pred_45$loglik_scores_mod_8 <= loglik_observed_scores_mod_8_pred_45) /
length(sims$pred_45$loglik_scores_mod_8)
tibble(x = sims$pred_60$loglik_scores_mod_8) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_8_pred_60, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 8 at minute 60")
sum(sims$pred_60$loglik_scores_mod_8 <= loglik_observed_scores_mod_8_pred_60) /
length(sims$pred_60$loglik_scores_mod_8)
tibble(x = sims$pred_75$loglik_scores_mod_8) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_8_pred_75, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 8 at minute 75")
sum(sims$pred_75$loglik_scores_mod_8 <= loglik_observed_scores_mod_8_pred_75) /
length(sims$pred_75$loglik_scores_mod_8)
load("data/predictions_mod_0_dc.RData")
mean_mod_0 = NULL
var_mod_0 = NULL
for(i in 1:length(predictions_mod_0_dc)) {
predictions_mod_0_dc[[i]]$pred_0$Result[which(predictions_mod_0_dc[[i]]$pred_0$Result == 0)] = 10^-5
pH = predictions_mod_0_dc[[i]]$pred_0$Result[1]
pD = predictions_mod_0_dc[[i]]$pred_0$Result[2]
pA = predictions_mod_0_dc[[i]]$pred_0$Result[3]
mean_mod_0[i] = pH * log(pH) + pD * log(pD) + pA * log(pA)
var_mod_0[i] = (pH * log(pH)^2 + pD * log(pD)^2 + pA * log(pA)^2) - mean_mod_0[i]^2
}
mean_mod_0 = sum(mean_mod_0)
var_mod_0 = sum(var_mod_0)
mean_mod_0
sqrt(var_mod_0)
tibble(x = sims$pred_0$loglik_results_mod_0) %>%
ggplot(aes(x = x)) +
geom_histogram(aes(y=..density..), bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_0_pred_0, col = "red") +
geom_vline(xintercept = mean_mod_0, col = "blue") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 0 at minute 0") +
stat_function(fun = dnorm, n = 10^3, args = list(mean = mean_mod_0, sd = sqrt(var_mod_0)))
source('~/GitHub/soccer-live-predictions/soccer-live-predictions/weight/goodness_of_fit_dc_2.R', echo=TRUE)
pars
library(knitr)
library(dplyr)
library(ggplot2)
load("data/goodness_of_fit_dc.RData")
for(i in 2:19) {
tab_results[i,] = tab_results[i,] - tab_results[1,]
}
kable(tab_results, digits = 4)
for(i in 2:19) {
tab_home_goals[i,] = tab_home_goals[i,] - tab_home_goals[1,]
}
kable(tab_home_goals, digits = 4)
for(i in 2:19) {
tab_away_goals[i,] = tab_away_goals[i,] - tab_away_goals[1,]
}
kable(tab_away_goals, digits = 4)
tibble(x = sims$pred_0$loglik_results_mod_0) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_0_pred_0, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 0 at minute 0")
sum(sims$pred_0$loglik_results_mod_0 <= loglik_observed_results_mod_0_pred_0) /
length(sims$pred_0$loglik_results_mod_0)
tibble(x = sims$pred_15$loglik_results_mod_0) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_0_pred_15, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 0 at minute 15")
sum(sims$pred_15$loglik_results_mod_0 <= loglik_observed_results_mod_0_pred_15) /
length(sims$pred_15$loglik_results_mod_0)
tibble(x = sims$pred_30$loglik_results_mod_0) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_0_pred_30, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 0 at minute 30")
sum(sims$pred_30$loglik_results_mod_0 <= loglik_observed_results_mod_0_pred_30) /
length(sims$pred_30$loglik_results_mod_0)
tibble(x = sims$pred_45$loglik_results_mod_0) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_0_pred_45, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 0 at minute 45")
sum(sims$pred_45$loglik_results_mod_0 <= loglik_observed_results_mod_0_pred_45) /
length(sims$pred_45$loglik_results_mod_0)
tibble(x = sims$pred_60$loglik_results_mod_0) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_0_pred_60, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 0 at minute 60")
sum(sims$pred_60$loglik_results_mod_0 <= loglik_observed_results_mod_0_pred_60) /
length(sims$pred_60$loglik_results_mod_0)
tibble(x = sims$pred_75$loglik_results_mod_0) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_0_pred_75, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 0 at minute 75")
sum(sims$pred_75$loglik_results_mod_0 <= loglik_observed_results_mod_0_pred_75) /
length(sims$pred_75$loglik_results_mod_0)
tibble(x = sims$pred_0$loglik_results_mod_3) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_3_pred_0, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 3 at minute 0")
sum(sims$pred_0$loglik_results_mod_3 <= loglik_observed_results_mod_3_pred_0) /
length(sims$pred_0$loglik_results_mod_3)
tibble(x = sims$pred_15$loglik_results_mod_3) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_3_pred_15, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 3 at minute 15")
sum(sims$pred_15$loglik_results_mod_3 <= loglik_observed_results_mod_3_pred_15) /
length(sims$pred_15$loglik_results_mod_3)
tibble(x = sims$pred_30$loglik_results_mod_3) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_3_pred_30, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 3 at minute 30")
sum(sims$pred_30$loglik_results_mod_3 <= loglik_observed_results_mod_3_pred_30) /
length(sims$pred_30$loglik_results_mod_3)
tibble(x = sims$pred_45$loglik_results_mod_3) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_3_pred_45, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 3 at minute 45")
sum(sims$pred_45$loglik_results_mod_3 <= loglik_observed_results_mod_3_pred_45) /
length(sims$pred_45$loglik_results_mod_3)
tibble(x = sims$pred_60$loglik_results_mod_3) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_3_pred_60, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 3 at minute 60")
sum(sims$pred_60$loglik_results_mod_3 <= loglik_observed_results_mod_3_pred_60) /
length(sims$pred_60$loglik_results_mod_3)
tibble(x = sims$pred_75$loglik_results_mod_3) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_3_pred_75, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 3 at minute 75")
sum(sims$pred_75$loglik_results_mod_3 <= loglik_observed_results_mod_3_pred_75) /
length(sims$pred_75$loglik_results_mod_3)
tibble(x = sims$pred_0$loglik_results_mod_8) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_8_pred_0, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 8 at minute 0")
sum(sims$pred_0$loglik_results_mod_8 <= loglik_observed_results_mod_8_pred_0) /
length(sims$pred_0$loglik_results_mod_8)
tibble(x = sims$pred_15$loglik_results_mod_8) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_8_pred_15, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 8 at minute 15")
sum(sims$pred_15$loglik_results_mod_8 <= loglik_observed_results_mod_8_pred_15) /
length(sims$pred_15$loglik_results_mod_8)
tibble(x = sims$pred_30$loglik_results_mod_8) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_8_pred_30, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 8 at minute 30")
sum(sims$pred_30$loglik_results_mod_8 <= loglik_observed_results_mod_8_pred_30) /
length(sims$pred_30$loglik_results_mod_8)
tibble(x = sims$pred_45$loglik_results_mod_8) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_8_pred_45, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 8 at minute 45")
sum(sims$pred_45$loglik_results_mod_8 <= loglik_observed_results_mod_8_pred_45) /
length(sims$pred_45$loglik_results_mod_8)
tibble(x = sims$pred_60$loglik_results_mod_8) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_8_pred_60, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 8 at minute 60")
sum(sims$pred_60$loglik_results_mod_8 <= loglik_observed_results_mod_8_pred_60) /
length(sims$pred_60$loglik_results_mod_8)
tibble(x = sims$pred_75$loglik_results_mod_8) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_8_pred_75, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 8 at minute 75")
sum(sims$pred_75$loglik_results_mod_8 <= loglik_observed_results_mod_8_pred_75) /
length(sims$pred_75$loglik_results_mod_8)
tibble(x = sims$pred_0$loglik_scores_mod_0) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_0_pred_0, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 0 at minute 0")
sum(sims$pred_0$loglik_scores_mod_0 >= loglik_observed_scores_mod_0_pred_0) /
length(sims$pred_0$loglik_scores_mod_0)
tibble(x = sims$pred_15$loglik_scores_mod_0) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_0_pred_15, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 0 at minute 15")
sum(sims$pred_15$loglik_scores_mod_0 <= loglik_observed_scores_mod_0_pred_15) /
length(sims$pred_15$loglik_scores_mod_0)
tibble(x = sims$pred_30$loglik_scores_mod_0) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_0_pred_30, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 0 at minute 30")
sum(sims$pred_30$loglik_scores_mod_0 <= loglik_observed_scores_mod_0_pred_30) /
length(sims$pred_30$loglik_scores_mod_0)
tibble(x = sims$pred_45$loglik_scores_mod_0) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_0_pred_45, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 0 at minute 45")
sum(sims$pred_45$loglik_scores_mod_0 <= loglik_observed_scores_mod_0_pred_45) /
length(sims$pred_45$loglik_scores_mod_0)
tibble(x = sims$pred_60$loglik_scores_mod_0) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_0_pred_60, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 0 at minute 60")
sum(sims$pred_60$loglik_scores_mod_0 <= loglik_observed_scores_mod_0_pred_60) /
length(sims$pred_60$loglik_scores_mod_0)
tibble(x = sims$pred_75$loglik_scores_mod_0) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_0_pred_75, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 0 at minute 75")
sum(sims$pred_75$loglik_scores_mod_0 <= loglik_observed_scores_mod_0_pred_75) /
length(sims$pred_75$loglik_scores_mod_0)
tibble(x = sims$pred_0$loglik_scores_mod_3) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_3_pred_0, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 3 at minute 0")
sum(sims$pred_0$loglik_scores_mod_3 <= loglik_observed_scores_mod_3_pred_0) /
length(sims$pred_0$loglik_scores_mod_3)
tibble(x = sims$pred_15$loglik_scores_mod_3) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_3_pred_15, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 3 at minute 15")
sum(sims$pred_15$loglik_scores_mod_3 <= loglik_observed_scores_mod_3_pred_15) /
length(sims$pred_15$loglik_scores_mod_3)
tibble(x = sims$pred_30$loglik_scores_mod_3) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_3_pred_30, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 3 at minute 30")
sum(sims$pred_30$loglik_scores_mod_3 <= loglik_observed_scores_mod_3_pred_30) /
length(sims$pred_30$loglik_scores_mod_3)
tibble(x = sims$pred_45$loglik_scores_mod_3) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_3_pred_45, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 3 at minute 45")
sum(sims$pred_45$loglik_scores_mod_3 <= loglik_observed_scores_mod_3_pred_45) /
length(sims$pred_45$loglik_scores_mod_3)
tibble(x = sims$pred_60$loglik_scores_mod_3) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_3_pred_60, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 3 at minute 60")
sum(sims$pred_60$loglik_scores_mod_3 <= loglik_observed_scores_mod_3_pred_60) /
length(sims$pred_60$loglik_scores_mod_3)
tibble(x = sims$pred_75$loglik_scores_mod_3) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_3_pred_75, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 3 at minute 75")
sum(sims$pred_75$loglik_scores_mod_3 <= loglik_observed_scores_mod_3_pred_75) /
length(sims$pred_75$loglik_scores_mod_3)
tibble(x = sims$pred_0$loglik_scores_mod_8) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_8_pred_0, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 8 at minute 0")
sum(sims$pred_0$loglik_scores_mod_8 <= loglik_observed_scores_mod_8_pred_0) /
length(sims$pred_0$loglik_scores_mod_8)
tibble(x = sims$pred_15$loglik_scores_mod_8) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_8_pred_15, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 8 at minute 15")
sum(sims$pred_15$loglik_scores_mod_8 <= loglik_observed_scores_mod_8_pred_15) /
length(sims$pred_15$loglik_scores_mod_8)
tibble(x = sims$pred_30$loglik_scores_mod_8) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_8_pred_30, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 8 at minute 30")
sum(sims$pred_30$loglik_scores_mod_8 <= loglik_observed_scores_mod_8_pred_30) /
length(sims$pred_30$loglik_scores_mod_8)
tibble(x = sims$pred_45$loglik_scores_mod_8) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_8_pred_45, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 8 at minute 45")
sum(sims$pred_45$loglik_scores_mod_8 <= loglik_observed_scores_mod_8_pred_45) /
length(sims$pred_45$loglik_scores_mod_8)
tibble(x = sims$pred_60$loglik_scores_mod_8) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_8_pred_60, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 8 at minute 60")
sum(sims$pred_60$loglik_scores_mod_8 <= loglik_observed_scores_mod_8_pred_60) /
length(sims$pred_60$loglik_scores_mod_8)
tibble(x = sims$pred_75$loglik_scores_mod_8) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_scores_mod_8_pred_75, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Scores model 8 at minute 75")
sum(sims$pred_75$loglik_scores_mod_8 <= loglik_observed_scores_mod_8_pred_75) /
length(sims$pred_75$loglik_scores_mod_8)
load("weight/data/predictions_mod_0_dc.RData")
load("data/predictions_mod_0_dc.RData")
load("data/predictions_mod_3_dc.RData")
load("/data/predictions_mod_8_dc.RData")
load("data/predictions_mod_0_dc.RData")
load("data/predictions_mod_3_dc.RData")
load("data/predictions_mod_8_dc.RData")
load("data/HDA_dc.RData")
load("data/first_matches.RData")
first_matches = first_matches %>%
mutate(tmp = 1)
HDA_dc = HDA_dc %>%
left_join(first_matches)
matches_to_remove = which(HDA_dc$tmp == 1)
predictions_mod_0_dc = predictions_mod_0_dc[-matches_to_remove]
predictions_mod_3_dc = predictions_mod_3_dc[-matches_to_remove]
predictions_mod_8_dc = predictions_mod_8_dc[-matches_to_remove]
mean_mod_0 = NULL
var_mod_0 = NULL
for(i in 1:length(predictions_mod_0_dc)) {
predictions_mod_0_dc[[i]]$pred_0$Result[which(predictions_mod_0_dc[[i]]$pred_0$Result == 0)] = 10^-5
pH = predictions_mod_0_dc[[i]]$pred_0$Result[1]
pD = predictions_mod_0_dc[[i]]$pred_0$Result[2]
pA = predictions_mod_0_dc[[i]]$pred_0$Result[3]
mean_mod_0[i] = pH * log(pH) + pD * log(pD) + pA * log(pA)
var_mod_0[i] = (pH * log(pH)^2 + pD * log(pD)^2 + pA * log(pA)^2) - mean_mod_0[i]^2
}
mean_mod_0 = sum(mean_mod_0)
var_mod_0 = sum(var_mod_0)
mean_mod_0
sqrt(var_mod_0)
load("data/pars.RData")
tibble(x = sims$pred_0$loglik_results_mod_0) %>%
ggplot(aes(x = x)) +
geom_histogram(aes(y = ..density..), bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_0_pred_0, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 0 at minute 0") +
geom_vline(xintercept = mean_mod_0, col = "blue") +
stat_function(fun = dnorm, n = 10^3, args = list(
mean = pars$pred_0$mean_mod_0, sd = pars$pred_0$sd_mod_0))
library(knitr)
library(dplyr)
library(ggplot2)
load("data/goodness_of_fit_dc.RData")
load("data/pars.RData")
for(i in 2:19) {
tab_results[i,] = tab_results[i,] - tab_results[1,]
}
kable(tab_results, digits = 4)
for(i in 2:19) {
tab_home_goals[i,] = tab_home_goals[i,] - tab_home_goals[1,]
}
kable(tab_home_goals, digits = 4)
for(i in 2:19) {
tab_away_goals[i,] = tab_away_goals[i,] - tab_away_goals[1,]
}
kable(tab_away_goals, digits = 4)
tibble(x = sims$pred_0$loglik_results_mod_0) %>%
ggplot(aes(x = x)) +
geom_histogram(bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_0_pred_0, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 0 at minute 0") +
stat_function(fun = dnorm, n = 10^3, args = list(
mean = pars$pred_0$mean_mod_0, sd = pars$pred_0$sd_mod_0))
tibble(x = sims$pred_0$loglik_results_mod_0) %>%
ggplot(aes(x = x)) +
geom_histogram(aes(y = ..density..), bins = 50) +
theme_bw() +
geom_vline(xintercept = loglik_observed_results_mod_0_pred_0, col = "red") +
xlab("Simulated data") +
ylab("Count") +
ggtitle("Results model 0 at minute 0") +
stat_function(fun = dnorm, n = 10^3, args = list(
mean = pars$pred_0$mean_mod_0, sd = pars$pred_0$sd_mod_0))
